A "smart contract" is simply a program that runs on the Ethereum blockchain. It's a collection of code (its functions) and data (its state) that resides at a specific address on the Ethereum blockchain.
We will show how to compile a simple smart contract in this example.

<CH.Spotlight>

<CH.Code>

```solidity storage.sol
// SPDX-License-Identifier: GPL-3.0
// SPDX-License-Identifier: GPL-3.0
pragma solidity >=0.4.16 <0.9.0;

contract SimpleStorage {
    event ValueChanged(
        address indexed author,
        string oldValue,
        string newValue
    );

    string _value;

    constructor(string memory value) {
        _value = value;
    }

    function getValue() public view returns (string memory) {
        return _value;
    }

    function setValue(string memory value) public {
        _value = value;
        emit ValueChanged(msg.sender, _value, value);
    }
}
```

---

```sh console
➜ npm install -g solc

➜ solcjs --abi --bin storage.sol
```

</CH.Code>

---

Use npm for a convenient and portable way to install **solcjs**, a Solidity compiler.
The **solcjs** program has fewer features than the **solc**. <ins>[Install full-featured compiler **solc**](https://docs.soliditylang.org/en/v0.8.12/installing-solidity.html)</ins>.

<CH.Code>

```solidity storage.sol

```

---

```sh console focus=1

```

</CH.Code>

---

Compile the smart contract with **solcjs**.
Specify the **--abi** and **--bin** options to generate the ABI and binary code.

<CH.Code>

```solidity storage.sol

```

---

```sh console focus=3
➜ npm install -g solc

➜ solcjs --abi --bin storage.sol
```

</CH.Code>

---

**The Contract Application Binary Interface (ABI)** is the standard way to interact with contracts in the Ethereum ecosystem, both from outside the blockchain and for contract-to-contract interaction. Data is encoded according to its type, as described in this specification. The encoding is not self describing and thus requires a schema in order to decode.

```json SimpleStorage.abi
# ABI
[
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "value",
				"type": "string"
			}
		],
		"stateMutability": "nonpayable",
		"type": "constructor"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "author",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "string",
				"name": "oldValue",
				"type": "string"
			},
			{
				"indexed": false,
				"internalType": "string",
				"name": "newValue",
				"type": "string"
			}
		],
		"name": "ValueChanged",
		"type": "event"
	},
	{
		"inputs": [],
		"name": "getValue",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "value",
				"type": "string"
			}
		],
		"name": "setValue",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	}
]
```

---

The **EVM bytecode** is the compiled code of the smart contract. It is a sequence of bytes that is executed by the EVM.

```sh SimpleStorage.bin
# EVM bytecode
60806040523480156200001157600080fd5b506040516200092f3803806200092f8339818101604052810190620000379190620002a4565b80600090805190602001906200004f92919062000057565b50506200035a565b828054620000659062000324565b90600052602060002090601f016020900481019282620000895760008555620000d5565b82601f10620000a457805160ff1916838001178555620000d5565b82800160010185558215620000d5579182015b82811115620000d4578251825591602001919060010190620000b7565b5b509050620000e49190620000e8565b5090565b5b8082111562000103576000816000905550600101620000e9565b5090565b6000604051905090565b600080fd5b600080fd5b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b620001708262000125565b810181811067ffffffffffffffff8211171562000192576200019162000136565b5b80604052505050565b6000620001a762000107565b9050620001b5828262000165565b919050565b600067ffffffffffffffff821115620001d857620001d762000136565b5b620001e38262000125565b9050602081019050919050565b60005b8381101562000210578082015181840152602081019050620001f3565b8381111562000220576000848401525b50505050565b60006200023d6200023784620001ba565b6200019b565b9050828152602081018484840111156200025c576200025b62000120565b5b62000269848285620001f0565b509392505050565b600082601f8301126200028957620002886200011b565b5b81516200029b84826020860162000226565b91505092915050565b600060208284031215620002bd57620002bc62000111565b5b600082015167ffffffffffffffff811115620002de57620002dd62000116565b5b620002ec8482850162000271565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b600060028204905060018216806200033d57607f821691505b60208210811415620003545762000353620002f5565b5b50919050565b6105c5806200036a6000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c8063209652551461003b57806393a0935214610059575b600080fd5b610043610075565b60405161005091906102ae565b60405180910390f35b610073600480360381019061006e9190610419565b610107565b005b60606000805461008490610491565b80601f01602080910402602001604051908101604052809291908181526020018280546100b090610491565b80156100fd5780601f106100d2576101008083540402835291602001916100fd565b820191906000526020600020905b8154815290600101906020018083116100e057829003601f168201915b5050505050905090565b806000908051906020019061011d929190610172565b503373ffffffffffffffffffffffffffffffffffffffff167fe826f71647b8486f2bae59832124c70792fba044036720a54ec8dacdd5df4fcb600083604051610167929190610558565b60405180910390a250565b82805461017e90610491565b90600052602060002090601f0160209004810192826101a057600085556101e7565b82601f106101b957805160ff19168380011785556101e7565b828001600101855582156101e7579182015b828111156101e65782518255916020019190600101906101cb565b5b5090506101f491906101f8565b5090565b5b808211156102115760008160009055506001016101f9565b5090565b600081519050919050565b600082825260208201905092915050565b60005b8381101561024f578082015181840152602081019050610234565b8381111561025e576000848401525b50505050565b6000601f19601f8301169050919050565b600061028082610215565b61028a8185610220565b935061029a818560208601610231565b6102a381610264565b840191505092915050565b600060208201905081810360008301526102c88184610275565b905092915050565b6000604051905090565b600080fd5b600080fd5b600080fd5b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b61032682610264565b810181811067ffffffffffffffff82111715610345576103446102ee565b5b80604052505050565b60006103586102d0565b9050610364828261031d565b919050565b600067ffffffffffffffff821115610384576103836102ee565b5b61038d82610264565b9050602081019050919050565b82818337600083830152505050565b60006103bc6103b784610369565b61034e565b9050828152602081018484840111156103d8576103d76102e9565b5b6103e384828561039a565b509392505050565b600082601f830112610400576103ff6102e4565b5b81356104108482602086016103a9565b91505092915050565b60006020828403121561042f5761042e6102da565b5b600082013567ffffffffffffffff81111561044d5761044c6102df565b5b610459848285016103eb565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b600060028204905060018216806104a957607f821691505b602082108114156104bd576104bc610462565b5b50919050565b60008190508160005260206000209050919050565b600081546104e581610491565b6104ef8186610220565b9450600182166000811461050a576001811461051c5761054f565b60ff198316865260208601935061054f565b610525856104c3565b60005b8381101561054757815481890152600182019150602081019050610528565b808801955050505b50505092915050565b6000604082019050818103600083015261057281856104d8565b905081810360208301526105868184610275565b9050939250505056fea26469706673582212209cdcbd87338d5258c875cf92fccc3ce306b02eaeee49c3b6a194a0c049a3f88364736f6c634300080c0033
```

</CH.Spotlight>
